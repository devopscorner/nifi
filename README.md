# DevOpsCorner Nifi

![all contributors](https://img.shields.io/github/contributors/devopscorner/nifi)
![tags](https://img.shields.io/github/v/tag/devopscorner/nifi?sort=semver)
![download all](https://img.shields.io/github/downloads/devopscorner/nifi/total.svg)
![download latest](https://img.shields.io/github/downloads/devopscorner/nifi/0.5/total)
![view](https://views.whatilearened.today/views/github/devopscorner/nifi.svg)
![clone](https://img.shields.io/badge/dynamic/json?color=success&label=clone&query=count&url=https://github.com/devopscorner/nifi/blob/master/clone.json?raw=True&logo=github)
![issues](https://img.shields.io/github/issues/devopscorner/nifi)
![pull requests](https://img.shields.io/github/issues-pr/devopscorner/nifi)
![forks](https://img.shields.io/github/forks/devopscorner/nifi)
![stars](https://img.shields.io/github/stars/devopscorner/nifi)
[![license](https://img.shields.io/github/license/devopscorner/nifi)](https://img.shields.io/github/license/devopscorner/nifi)

Container Nifi & Nifi Registry
- Provisioning with Terraform & Ansible
- EC2 Docker Compose & Kubernetes (EKS)
- Python3 & Libraries
- Unified Machine Learning (ML) Framework with [Ivy](https://github.com/unifyai/ivy)

---

## Introduction to NIFI

### NIFI Usecase

- Apache NiFi Tutorial: What is NiFi? Architecture & Installation (guru99.com), go to [this](https://www.guru99.com/apache-nifi-tutorial.html) link
- An Introduction to Apache NiFi, Use Cases and Best Practices (capgemini.github.io), go to [this](https://capgemini.github.io/development/introduction-nifi-best-practices) link
- Apache NiFi - Designing a flow for a real use case - Digital Hub, go to [this](https://scc-digitalhub.github.io/platform/nifi-tutorial-gtfs) link

## Available Tags

### **NIFI**

| Image name | Size |
|------------|------|
| `devopscorner/nifi:latest` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/latest.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/latestpage=1&ordering=last_updated&name=latest) |
| `devopscorner/nifi:1.18.0` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.18.0.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.18.0page=1&ordering=last_updated&name=1.18.0) |
| `devopscorner/nifi:1.18` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.18.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.18page=1&ordering=last_updated&name=1.18) |
| `devopscorner/nifi:1.17.0` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.17.0.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.17.0page=1&ordering=last_updated&name=1.17.0) |
| `devopscorner/nifi:1.17` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.17.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.17page=1&ordering=last_updated&name=1.17) |
| `devopscorner/nifi:1.16.3` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.16.3.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.16.3page=1&ordering=last_updated&name=1.16.3) |
| `devopscorner/nifi:1.16` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi/1.16.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi/1.16page=1&ordering=last_updated&name=1.16) |

### **NIFI REGISTRY**

| Image name | Size |
|------------|------|
| `devopscorner/nifi-registry:latest` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/latest.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/latestpage=1&ordering=last_updated&name=latest) |
| `devopscorner/nifi-registry:1.18.0` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.18.0.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.18.0page=1&ordering=last_updated&name=1.18.0) |
| `devopscorner/nifi-registry:1.18` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.18.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.18page=1&ordering=last_updated&name=1.18) |
| `devopscorner/nifi-registry:1.17.0` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.17.0.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.17.0page=1&ordering=last_updated&name=1.17.0) |
| `devopscorner/nifi-registry:1.17` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.17.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.17page=1&ordering=last_updated&name=1.17) |
| `devopscorner/nifi-registry:1.16.3` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.16.3.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.16.3page=1&ordering=last_updated&name=1.16.3) |
| `devopscorner/nifi-registry:1.16` | [![docker image size](https://img.shields.io/docker/image-size/devopscorner/nifi-registry/1.16.svg?label=Image%20size&logo=docker)](https://hub.docker.com/repository/docker/devopscorner/nifi-registry/1.16page=1&ordering=last_updated&name=1.16.3) |

## Features

- Nifi (latest: 1.18.0)
- Nifi Registry (latest: 1.18.0)
- Python3.9
- Python Libraries
  - cffi
  - awscli
  - PyYaml
  - Jinja2
  - httplib2
  - six
  - requests
  - boto3
  - pandas
  - beautifulsoup4
  - lxml
  - scrapy
  - SQLAlchemy
  - psycopg2-binary
  - ivy-core
  - checkov
- Unix Tools
  - git
  - curl
  - wget
  - vim
  - nano
  - zip
  - unzip
  - ping
  - netstat

---

## Prerequirements

- Ansible (`ansible`)
- Docker (`docker`)
- Docker Compose (`docker-compose`)
- AWS Cli version 2 (`aws`)
- Terraform Cli (`terraform`)
- Terraform Environment (`tfenv`)

## Documentation

- Index Documentation, go to [this](docs/README.md) link
- Ansible Documentation, go to [this](docs/README-Ansible.md) link
- Deploy Ansible Nifi, go to [this](docs/Deploy-Ansible.md) link
- Docker-Compose Nifi, go to [this](docs/Docker-Compose-Nifi.md) link
- EKS Nifi, go to [this](docs/EKS-Nifi.md) link

## Ansible Features

Ansible Services Pattern:

- Ansible Static & Dynamic Inventory

- Playbooks Group by Services
  - Datadog
  - Docker
  - Java
  - Jenkins
  - Nifi
  - NVM (Node Version Manager)

- Roles by Ansible Galaxy
  - Adminer
  - Amazon-AWS
  - AWS-CLI
  - CertBot
  - Datadog
  - Docker
  - Java
  - Jenkins
  - Kubectl
  - NVM (Node Version Manager)


## Terraform Features

Multi Environment Workspace:

- Remote State Terraform (S3 & DynamoDB)

- Core Infrastructure
  - VPC
  - Subnet EC2 & EKS
  - Security Group
  - NAT Gateway
  - Internet Gateway
  - VPC Peers Single CIDR
  - VPC Peers Multi CIDR

- Resources Other Infra
  - Budget
  - AWS Elastic Computing (EC2)
    - Jumphost
    - PostgreSQL (PSQL)
    - Nifi
  - Amazon Relational Database Service (RDS)

## Tested Environment

### Versioning

- Docker version

  ```
  docker version

  Client:
    Cloud integration: v1.0.22
    Version:           20.10.17-rd
    API version:       1.41
    Go version:        go1.17.11
    Git commit:        c2e4e01
    Built:             Fri Jul 22 18:31:17 2022
    OS/Arch:           darwin/amd64
    Context:           default
    Experimental:      true
  ```

- Docker-Compose version

  ```
  docker-compose -v
  ---
  Docker Compose version v2.11.1
  ```

- AWS Cli

  ```
  aws --version
  ---
  aws-cli/2.8.7 Python/3.9.11 Darwin/21.6.0 exe/x86_64 prompt/off
  ```

- Terraform Cli

  ```
  terraform version
  ---
  Terraform v1.3.5
  on darwin_amd64
  - provider registry.terraform.io/hashicorp/aws v3.74.3
  - provider registry.terraform.io/hashicorp/local v2.1.0
  - provider registry.terraform.io/hashicorp/null v3.1.0
  - provider registry.terraform.io/hashicorp/random v3.1.0
  - provider registry.terraform.io/hashicorp/time v0.7.2
  ```

- Terraform Environment Cli

  ```
  tfenv -v
  ---
  tfenv 2.2.2
  ```

## Security Check

Make sure that you didn't push sensitive information in this repository

- [ ] AWS Credentials (AWS_ACCESS_KEY, AWS_SECRET_KEY)
- [ ] AWS Account ID
- [ ] AWS Resources ARN
- [ ] Username & Password
- [ ] Private (id_rsa) & Public Key (id_rsa.pub)
- [ ] DNS Zone ID
- [ ] APP & API Key

## Copyright

- Author: **Dwi Fahni Denni (@zeroc0d3)**
- Vendor: **DevOps Corner Indonesia (devopscorner.id)**
- License: **Apache v2**
